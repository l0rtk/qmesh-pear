const TranscriptionPipeline = require('@tetherto/qvac-util-transcription')
const WhisperClient = require("..")

class TranscriptionAddon extends TranscriptionPipeline {
    constructor({loader, params, ...args}, config = {}) {
        const path = config?.path
        const whisperAddon = new WhisperClient(
            {
                loader,
                params,
                ...args
            },
            {...config, path}
        )

        super({whisperAddon}, params.decoder)
    }
}

module.exports = TranscriptionAddon